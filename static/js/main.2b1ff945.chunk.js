(window["webpackJsonpmy-react"]=window["webpackJsonpmy-react"]||[]).push([[0],{32:function(e,t,a){e.exports={header:"header_header__3fn4i",header__title:"header_header__title__2lBLG"}},48:function(e,t,a){e.exports={textField:"TextField_textField__3ghkn"}},49:function(e,t,a){e.exports={button:"Button_button__2Lf63"}},5:function(e,t,a){e.exports={taskItem:"taskItem_taskItem__8hRjb",taskItem__events:"taskItem_taskItem__events__2SEBX",taskItem__checkbox:"taskItem_taskItem__checkbox__1Vbqn",taskItem__name:"taskItem_taskItem__name__2-xbU",taskItem__done:"taskItem_taskItem__done__2n6s7",taskItem__edit:"taskItem_taskItem__edit__kMS5v",taskItem__delete:"taskItem_taskItem__delete__bsakb",edit:"taskItem_edit__3Ihyb",edit__field:"taskItem_edit__field__3tfAx",edit__events:"taskItem_edit__events__3vkeb",edit__close:"taskItem_edit__close__1B_0W",edit__confirm:"taskItem_edit__confirm__1gw7D",edit__error:"taskItem_edit__error__UhW3B",edit__errorShow:"taskItem_edit__errorShow__3rDPf"}},51:function(e,t,a){e.exports={title:"Title_title__1jPs1"}},52:function(e,t,a){e.exports={taskList:"taskList_taskList__4OS-v"}},54:function(e,t,a){e.exports=a(91)},59:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),o=(a(59),a(4)),i=a(29),l=a(12),u=a(13),m=a(15),p=a(14),f=a(16),d=(a(60),a(32)),_=a.n(d),h=function(){return r.a.createElement("header",{className:_.a.header},r.a.createElement(o.b,{to:"/",className:_.a.header__title},"ToDo List"))},b=a(17),k=(a(65),function(){return r.a.createElement("div",{className:"home-page"},r.a.createElement("h2",{className:"home-page__title"},"Welcome"),r.a.createElement("div",{className:"home-page__description"},r.a.createElement(o.b,{to:"/login",className:"home-page__link"},"Sign in"),r.a.createElement(o.b,{to:"/registration",className:"home-page__link"},"Registration")))}),v=a(9),O=a(6),g=a.n(O),E=a(11),j=a(18),y=a(19),w=a.n(y);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){return{type:"SET_AUTH",payload:e}},S=a(22),I=a(24),x=(a(85),a(48)),D=a.n(x),C=function(e){var t=e.onChange,a=e.value,n=e.placeholder,c=e.className,s=Object(I.a)(e,["onChange","value","placeholder","className"]);return r.a.createElement("div",{className:"".concat(D.a.textField," ").concat(c)},r.a.createElement("input",Object.assign({onChange:t,placeholder:n,value:a},s)))},L=a(49),A=a.n(L),F=function(e){var t=e.marginLeft,a=e.onClick,n=e.children,c=Object(I.a)(e,["marginLeft","onClick","children"]),s={marginLeft:t+"px"||!1};return r.a.createElement("button",Object.assign({className:A.a.button,style:s,onClick:function(){return a()}},c),n)},U=function(e){var t=e.sendForm,a=e.className,c=Object(I.a)(e,["sendForm","className"]),s=Object(n.useState)(""),o=Object(S.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(""),m=Object(S.a)(u,2),p=m[0],f=m[1],d=Object(n.useState)(!0),_=Object(S.a)(d,2),h=_[0],b=_[1];return r.a.createElement("form",Object.assign({className:"auth-form ".concat(a)},c),r.a.createElement(C,{value:i,name:"name",onChange:function(e){var t=e.target;l(t.value)},className:"auth-form__input",placeholder:"Please enter a name"}),r.a.createElement(C,{value:p,name:"password",type:"password",onChange:function(e){var t=e.target;f(t.value)},className:"auth-form__input",placeholder:"Enter your password"}),!h&&r.a.createElement("span",{className:"auth-form__error-message"},"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0443 \u0434\u0430\u043d\u0438\u0445"),r.a.createElement(F,{type:"button",onClick:function(){i.length<3?b(!1):p.length<4?b(!1):(b(!0),t({name:i,password:p}))}},"Sing up"))},K=(a(86),a(30)),B=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(m.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(f.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(r.a.PureComponent);return Object(v.b)((function(e){return{auth:e.auth.auth}}))(t)},R=Object(K.a)(Object(v.b)(null,(function(e){return{signIn:function(t){return e((a=t,function(){var e=Object(j.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("http://localhost:3002/api/login",N({},a));case 3:if(200!==(n=e.sent).status){e.next=8;break}return t(P({auth:!0,id:n.data._id})),localStorage.setItem("auth",!0),e.abrupt("return",n);case 8:throw Error;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));var a}}})),B)((function(e){var t=e.signIn,a=e.auth,n=Object(b.g)();return r.a.createElement("div",{className:"login-page"},a&&r.a.createElement(b.a,{to:"/"}),r.a.createElement("h1",null,"login page"),r.a.createElement(U,{sendForm:function(e){var a=e.name,r=e.password;t({name:a,password:r}).then((function(){return n.push("/todo-list")}))}}),r.a.createElement("hr",null),r.a.createElement(o.b,{to:"/registration",className:"login-page__link"},"Registration"))})),V=(a(87),Object(v.b)(null,(function(e){return{singUp:function(t){return e((a=t,function(){var e=Object(j.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("http://localhost:3002/api/registration",N({},a));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.singUp,a=Object(b.g)();return r.a.createElement("div",{className:"registration"},r.a.createElement("h2",{className:"registration__title"},"Registration"),r.a.createElement(U,{sendForm:function(e){var n=e.name,r=e.password;console.log("asdas"),t({name:n,password:r}).then((function(){a.push("/login")}))}}),r.a.createElement("hr",null),r.a.createElement(o.b,{to:"/login",className:"registration__link"},"Login"))}))),G=(a(88),a(51)),H=a.n(G),W=function(){return r.a.createElement("h1",{className:H.a.title},"ToDo List")},J=(a(89),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={nameTask:""},a.onChangeValue=function(e){var t=e.target;a.setState({nameTask:t.value})},a.addTask=function(){var e={title:a.state.nameTask,done:!1};a.props.addTask(e)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"task-form"},r.a.createElement(C,{onChange:this.onChangeValue,placeholder:"New Task",value:this.state.nameTask}),r.a.createElement(F,{marginLeft:10,onClick:this.addTask},"add task"))}}]),t}(r.a.PureComponent)),M=a(52),q=a.n(M),X=a(5),z=a.n(X),Q=function(e){var t=e.onClose,a=e.onEdit,c=e.value,s=Object(n.useState)(""),o=Object(S.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(!1),m=Object(S.a)(u,2),p=m[0],f=m[1];Object(n.useEffect)((function(){l(c)}),[]);return r.a.createElement("div",{className:z.a.edit},r.a.createElement("div",{className:z.a.edit__field},r.a.createElement(C,{onChange:function(e){return l(e.target.value)},placeholder:"New Task",value:i}),r.a.createElement("span",{className:[z.a.edit__error,p?z.a.edit__errorShow:""].join(" ")},"Name must contain more than one character")),r.a.createElement("div",{className:z.a.edit__events},r.a.createElement("span",{onClick:t,className:z.a.edit__close},r.a.createElement("i",{className:"fa fa-close"})),r.a.createElement("span",{className:z.a.edit__confirm,onClick:function(){i.length<1?f(!0):(f(!1),a(i))}},r.a.createElement("i",{className:"fa fa-check-circle"}))))},Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this))).updateDone=function(){var e=Object.assign({},a.state.task);e.done=!e.done,a.setState({task:e},(function(){a.props.onUpdate(a.state.task)}))},a.toggleEdit=function(e){a.setState({showTaskItem:e})},a.editTitleTask=function(e){var t=Object.assign({},a.state.task);t.title=e,a.setState({task:t},(function(){a.props.onUpdate(a.state.task),a.toggleEdit(!0)}))},a.state={showTaskItem:!0,task:{}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.task;this.setState({task:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.task,n=t.onDelete,c=a.done?z.a.taskItem__done:"";return r.a.createElement(r.a.Fragment,null,this.state.showTaskItem?r.a.createElement("div",{className:z.a.taskItem},r.a.createElement("div",{className:z.a.taskItem__checkbox},r.a.createElement("input",{type:"checkbox",checked:a.done,onChange:this.updateDone})),r.a.createElement("div",{className:[z.a.taskItem__name,c].join(" ")},a.title),r.a.createElement("div",{className:z.a.taskItem__events},r.a.createElement("span",{className:z.a.taskItem__edit,onClick:function(){return e.toggleEdit(!1)}},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("span",{className:z.a.taskItem__delete,onClick:function(){return n(a)}},r.a.createElement("i",{className:"fa  fa-trash-o"})))):r.a.createElement(Q,{value:a.title,onEdit:this.editTitleTask,onClose:function(){return e.toggleEdit(!0)}}))}}]),t}(r.a.Component);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){return{type:"ADD_TASK",payload:e}},te=Object(v.b)(null,(function(e){return{updateTask:function(t){return e(function(e){var t=e.id,a=e.task;return function(){var e=Object(j.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.put("http://localhost:3002/api/edit-task",{id:t,task:a});case 3:if(200!==(r=e.sent).status){e.next=7;break}return n({type:"UPDATE_TASK",payload:{id:t,task:a}}),e.abrupt("return",r);case 7:throw Error;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}(t))},deleteTask:function(t){return e(function(e){return function(){var t=Object(j.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.delete("http://localhost:3002/api/delete-task/".concat(e));case 3:if(200!==(n=t.sent).status){t.next=7;break}return a({type:"DELETE_TASK",payload:e}),t.abrupt("return",n);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.listTask,a=e.updateTask,n=e.deleteTask,c=function(e){var t={id:e._id,task:e};a(t)},s=function(e){var t=e._id;n(t)};return r.a.createElement("div",{className:q.a.taskList},t.map((function(e,t){return r.a.createElement(Y,{key:t,task:e,onUpdate:c,onDelete:s})})))}));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ne=Object(K.a)(Object(v.b)((function(e){return{taskList:e.task.taskList,id:e.auth.id}}),(function(e){return{getTask:function(t){return e(function(e){return function(){var t=Object(j.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post("http://localhost:3002/api/task",{id:e});case 3:200===(n=t.sent).status&&(console.log(n),a({type:"GET_TASK",payload:n.data})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},addTask:function(t){return e((a=t,function(){var e=Object(j.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("http://localhost:3002/api/add-task",$({},a));case 3:if(200!==(n=e.sent).status){e.next=7;break}return t(ee(a)),e.abrupt("return",n);case 7:throw Error;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var a}}})),B)((function(e){var t=e.auth,a=e.id,c=e.getTask,s=e.addTask,o=e.taskList;Object(n.useEffect)((function(){c(a)}),[]);return r.a.createElement("div",{className:"todo-container"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(J,{addTask:function(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{id:a}))}}),o.length>0?r.a.createElement(te,{listTask:o}):r.a.createElement("strong",null,"you have no tasks")):r.a.createElement(b.a,{to:"/login"}))})),re=(a(90),function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("h2",{className:"not-found__title"},"Page not found"),r.a.createElement(o.b,{to:"/",className:"not-found__link"},"Home page"),r.a.createElement(o.b,{to:"/sign-in",className:"not-found__link"},"Sign In"),r.a.createElement(o.b,{to:"/rigistration",className:"not-found__link"},"Sing out"))}),ce=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:k}),r.a.createElement(b.b,{path:"/registration",component:V}),r.a.createElement(b.b,{path:"/login",component:R}),r.a.createElement(b.b,{path:"/todo-list",component:ne}),r.a.createElement(b.b,{path:"*",component:re}))},se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this))).addPost=function(){var e=a.state.nameTask,t=Object(i.a)(a.state.tasks);e.length>0&&(t.push({id:t.length,name:e,done:!1}),a.setState({tasks:t,nameTask:""}))},a.onChangeValue=function(e){var t=e.target.value;a.setState({nameTask:t})},a.deleteElement=function(e){var t=a.state.tasks;t.splice(e,1),a.setState({tasks:t})},a.doneTask=function(e){var t=a.state.tasks,n=t[e];n.done=!n.done,t[e]=n,a.setState({tasks:t})},a.editElement=function(e,t){var n=a.state.tasks,r=n[e];r.name=t,n[e]=r,a.setState({tasks:n})},a.state={nameTask:"",tasks:[{id:0,name:"valueField",done:!1}]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement(ce,null)))}}]),t}(r.a.Component),oe=a(20),ie=a(53);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var me={taskList:[]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TASK":var a=t.payload;return ue({},e,{taskList:a});case"ADD_TASK":var n=Object(i.a)(e.taskList);return n.push(t.payload),ue({},e,{taskList:n});case"UPDATE_TASK":var r=t.payload,c=r.id,s=r.task,o=e.taskList.map((function(e){return e._id===c?s:e}));return ue({},e,{taskList:o});case"DELETE_TASK":var l=t.payload,u=e.taskList.filter((function(e){if(e._id!==l)return e}));return ue({},e,{taskList:u})}return e};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _e={auth:!1,id:""},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":var a=t.payload,n=a.auth,r=a.id;return de({},e,{auth:n,id:r})}return e},be=Object(oe.c)({task:pe,auth:he}),ke=Object(oe.d)(be,Object(oe.a)(ie.a));var ve=function(){return r.a.createElement(v.a,{store:ke},r.a.createElement(o.a,null,r.a.createElement(se,null)))};s.a.render(r.a.createElement(ve,null),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.2b1ff945.chunk.js.map